<div class="bg-white p-6 rounded-xl shadow-md max-w-4xl mx-auto" x-data="{ activeTab: 'general' }">
    <h2 class="text-xl font-semibold mb-4">تنظیمات سایت و برندینگ</h2>

    <!-- Tab Buttons -->
    <div class="border-b border-gray-200">
        <nav class="-mb-px flex space-x-4 space-x-reverse" aria-label="Tabs">
            <button @click="activeTab = 'general'" :class="{'border-blue-500 text-blue-600': activeTab === 'general', 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300': activeTab !== 'general'}" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">
                عمومی
            </button>
            <button @click="activeTab = 'branding'" :class="{'border-blue-500 text-blue-600': activeTab === 'branding', 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300': activeTab !== 'branding'}" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">
                برندینگ
            </button>
            <button @click="activeTab = 'appearance'" :class="{'border-blue-500 text-blue-600': activeTab === 'appearance', 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300': activeTab !== 'appearance'}" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm">
                ظاهر
            </button>
        </nav>
    </div>

    <form action="/settings/site-branding/update" method="POST" enctype="multipart/form-data">

        <!-- General Tab -->
        <div x-show="activeTab === 'general'" class="mt-6">
            <div class="space-y-6">
                <div>
                    <label for="site_name" class="block text-sm font-medium text-gray-700">نام سایت</label>
                    <div class="mt-1">
                        <input type="text" name="site_name" id="site_name" value="<?php echo e($settings['site_name'] ?? ''); ?>" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>

                <div>
                    <label for="site_url" class="block text-sm font-medium text-gray-700">آدرس سایت</label>
                    <div class="mt-1">
                        <input type="url" name="site_url" id="site_url" value="<?php echo e($settings['site_url'] ?? ''); ?>" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" dir="ltr">
                    </div>
                </div>
                
                <div>
                    <label for="lira_rate" class="block text-sm font-medium text-gray-700">نرخ روز لیر (به تومان)</label>
                    <div class="mt-1">
                        <input type="number" name="lira_rate" id="lira_rate" value="<?php echo e($settings['lira_rate'] ?? ''); ?>" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" dir="ltr" placeholder="مثال: 1850">
                    </div>
                </div>
            </div>
        </div>


        <!-- Branding Tab -->
        <div x-show="activeTab === 'branding'" style="display: none;">
            <div class="mt-6 grid grid-cols-1 gap-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700">لوگوی سایت</label>
                    <div class="mt-1 flex items-center">
                        <img src="/<?php echo e($settings['site_logo_url'] ?? 'assets/images/placeholder.png'); ?>" class="h-12 w-auto bg-gray-100 p-1 rounded">
                        <input type="file" name="site_logo" class="mr-4">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">فاوآیکون</label>
                    <div class="mt-1 flex items-center">
                        <img src="/<?php echo e($settings['site_favicon_url'] ?? 'assets/images/placeholder.png'); ?>" class="h-8 w-8 bg-gray-100 p-1 rounded">
                        <input type="file" name="site_favicon" class="mr-4">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">پس‌زمینه صفحه ورود</label>
                    <div class="mt-1 flex items-center">
                        <img src="/<?php echo e($settings['login_bg_url'] ?? 'assets/images/placeholder.png'); ?>" class="h-20 w-auto bg-gray-100 p-1 rounded">
                        <input type="file" name="login_bg" class="mr-4">
                    </div>
                </div>
            </div>
        </div>

        <!-- Appearance Tab -->
        <div x-show="activeTab === 'appearance'" style="display: none;">
            <div class="mt-6">
                <p class="text-sm text-gray-600 mb-4">رنگ‌بندی قالب پنل را مشخص کنید.</p>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <div class="flex items-center"><input type="color" name="theme_primary_color" value="<?php echo e($settings['theme_primary_color'] ?? '#0d6efd'); ?>" class="w-10 h-10"><label class="mr-3">رنگ اصلی</label></div>
                    <div class="flex items-center"><input type="color" name="theme_sidebar_bg" value="<?php echo e($settings['theme_sidebar_bg'] ?? '#212529'); ?>" class="w-10 h-10"><label class="mr-3">پس‌زمینه سایدبار</label></div>
                    <div class="flex items-center"><input type="color" name="theme_sidebar_text" value="<?php echo e($settings['theme_sidebar_text'] ?? '#adb5bd'); ?>" class="w-10 h-10"><label class="mr-3">متن سایدبار</label></div>
                    <div class="flex items-center"><input type="color" name="theme_body_bg" value="<?php echo e($settings['theme_body_bg'] ?? '#f8f9fa'); ?>" class="w-10 h-10"><label class="mr-3">پس‌زمینه بدنه</label></div>
                    <div class="flex items-center"><input type="color" name="theme_card_bg" value="<?php echo e($settings['theme_card_bg'] ?? '#ffffff'); ?>" class="w-10 h-10"><label class="mr-3">پس‌زمینه کارت‌ها</label></div>
                </div>
            </div>
        </div>

        <!-- Form Actions -->
        <div class="pt-5 mt-5 border-t">
            <div class="flex justify-end">
                <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700">
                    ذخیره تغییرات
                </button>
            </div>
        </div>
    </form>
</div>

